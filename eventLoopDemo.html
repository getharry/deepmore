<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>事件循环</title>
</head>
<body>
	<script type="text/javascript">
		// setTimeout(function () {
		// 	console.log('timeout1');
		// })
		// new Promise(function(resolve){
		// 	console.log('promise1');
		// 	for(var i=0;i<1000;i++){
		// 		i==99&&resolve();
		// 	}
		// 	console.log('promise2');
		// }).then(function(){
		// 	console.log('then1');
		// })
		// console.log('global1');

		//ES6改写如下
		setTimeout(() => {
			console.log('timeout1');
		})
		new Promise(resolve => {
			console.log('promise1');
			for(let i=0;i<10;i++){
				console.log(i);
				i==9&&resolve();
			}
			console.log('promise2');
		}).then(() => {
			console.log('then1');
		})
		console.log('global1');
		
		// 结果
		// promise1
		// promise2
		// global1
		// then1
		// timeout1

	</script>
</body>
</html>